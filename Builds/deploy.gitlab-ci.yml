deploy_components:
  stage: deploy
  dependencies: 
    - package_components
  tags:
    - curl
    - artifactory
  only:
    variables:
      - $MAIN_VERSION != null
  environment:
    name: Artifactory-Components
    url: '%ARTIFACTORY_DEPLOY%'
  script:
    - '"%CURL_PATH%" -u %ARTIFACTORY_CRED% -X PUT %ARTIFACTORY_DEPLOY% -T GoC.WebTemplate-Components.%MAIN_VERSION%.nupkg -k'

deploy_componentscore:
  stage: deploy
  dependencies: 
    - package_componentscore
  tags:
    - curl
    - artifactory
  only:
    variables:
      - $MAIN_VERSION != null
  environment:
    name: Artifactory-ComponentsCore
    url: '%ARTIFACTORY_DEPLOY%'
  script:
    - '"%CURL_PATH%" -u %ARTIFACTORY_CRED% -X PUT %ARTIFACTORY_DEPLOY% -T GoC.WebTemplate-Components.Core.%MAIN_VERSION%.nupkg -k'

deploy_componentsframe:
  stage: deploy
  dependencies: 
    - package_componentsframe
  tags:
    - curl
    - artifactory
  only:
    variables:
      - $MAIN_VERSION != null
  environment:
    name: Artifactory-ComponentsFramework
    url: '%ARTIFACTORY_DEPLOY%'
  script:
    - '"%CURL_PATH%" -u %ARTIFACTORY_CRED% -X PUT %ARTIFACTORY_DEPLOY% -T GoC.WebTemplate-Components.Framework.%MAIN_VERSION%.nupkg -k'

deploy_coremvc:
  stage: deploy
  dependencies: 
    - package_coremvc
  tags:
    - curl
    - artifactory
  only:
    variables:
      - $MAIN_VERSION != null
  environment:
    name: Artifactory-CoreMVC
    url: '%ARTIFACTORY_DEPLOY%'
  script:
    - '"%CURL_PATH%" -u %ARTIFACTORY_CRED% -X PUT %ARTIFACTORY_DEPLOY% -T GoC.WebTemplate-CoreMVC.%MAIN_VERSION%.nupkg -k'

deploy_mvc:
  stage: deploy
  dependencies: 
    - package_mvc
  tags:
    - curl
    - artifactory
  only:
    variables:
      - $MAIN_VERSION != null
  environment:
    name: Artifactory-MVC
    url: '%ARTIFACTORY_DEPLOY%'
  script:
    - '"%CURL_PATH%" -u %ARTIFACTORY_CRED% -X PUT %ARTIFACTORY_DEPLOY% -T GoC.WebTemplate-MVC.%MAIN_VERSION%.nupkg -k'

deploy_forms:
  stage: deploy
  dependencies: 
    - package_forms
  tags:
    - curl
    - artifactory
  only:
    variables:
      - $MAIN_VERSION != null
  environment:
    name: Artifactory-WebForms
    url: '%ARTIFACTORY_DEPLOY%'
  script:
    - '"%CURL_PATH%" -u %ARTIFACTORY_CRED% -X PUT %ARTIFACTORY_DEPLOY% -T GoC.WebTemplate-WebForms.%MAIN_VERSION%.nupkg -k'
